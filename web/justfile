# Show available web commands
default:
  @just --list

# Setup and dependencies
install:
  bun install

# Development
dev:
  kill $(lsof -t -i:4242) || true && bun run dev

build:
  bun run build

start: 
  kill $(lsof -t -i:4242) || true && bun run build && bun run start

# Testing
test *ARGS:
  bun run test {{ARGS}}

test-watch *ARGS:
  bun run test-watch {{ARGS}}

test-ui *ARGS:
  bun run test --ui {{ARGS}}

# Code quality
lint:
  bun run lint:fix

lint-check:
  bun run lint

format:
  bun run format:fix 

format-check:
  bun run format 

type-check:
  bun run tsc --noEmit

# CI
ci: lint format type-check test

# Utilities
clean:
  rm -rf .next node_modules/.cache

clean-all:
  rm -rf .next node_modules node_modules/.cache bun.lockb

reinstall: clean-all install

import { z } from 'zod';

export const COLOR_TABLE = {
    0: 'transparent',
    1: '#000000',
    2: '#ffffff',
    3: '#b7c4cc',
    4: '#7a7c8a',
    5: '#3d3a4a',
    6: '#171622',
    7: '#ccbfab',
    8: '#8a716f',
    9: '#4a333d',
    10: '#221524',
    11: '#dda980',
    12: '#a4644a',
    13: '#60302c',
    14: '#301117',
    15: '#ff947d',
    16: '#f23722',
    17: '#8c1d32',
    18: '#3c0b22',
    19: '#ffb45f',
    20: '#f36f1c',
    21: '#87381d',
    22: '#3d1212',
    23: '#f6f04a',
    24: '#cead19',
    25: '#6f5922',
    26: '#39230f',
    27: '#a0ff78',
    28: '#3ecb2b',
    29: '#1a6636',
    30: '#062622',
    31: '#84eeff',
    32: '#299be2',
    33: '#274fa2',
    34: '#0f1b4d',
    35: '#ff98fc',
    36: '#bc2fe3',
    37: '#5e198e',
    38: '#231047',
    39: '#ff9494',
    40: '#f11985',
    41: '#88126f',
    42: '#3f0d43',
};

export const colorRefSchema = z.union([
    z.literal(0),
    z.literal(1),
    z.literal(2),
    z.literal(3),
    z.literal(4),
    z.literal(5),
    z.literal(6),
    z.literal(7),
    z.literal(8),
    z.literal(9),
    z.literal(10),
    z.literal(11),
    z.literal(12),
    z.literal(13),
    z.literal(14),
    z.literal(15),
    z.literal(16),
    z.literal(17),
    z.literal(18),
    z.literal(19),
    z.literal(20),
    z.literal(21),
    z.literal(22),
    z.literal(23),
    z.literal(24),
    z.literal(25),
    z.literal(26),
    z.literal(27),
    z.literal(28),
    z.literal(29),
    z.literal(30),
    z.literal(31),
    z.literal(32),
    z.literal(33),
    z.literal(34),
    z.literal(35),
    z.literal(36),
    z.literal(37),
    z.literal(38),
    z.literal(39),
    z.literal(40),
    z.literal(41),
    z.literal(42),
]);

export type ColorRef = z.infer<typeof colorRefSchema>;

export const TRANSPARENT_REF = 0;
export const BLACK_REF = 1;
export const WHITE_REF = 2;

export const COLOR_ORDER: ColorRef[] = [
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    16,
    17,
    18,
    19,
    20,
    21,
    22,
    23,
    24,
    25,
    26,
    27,
    28,
    29,
    30,
    31,
    32,
    33,
    34,
    35,
    36,
    37,
    38,
    39,
    40,
    41,
    42,
    BLACK_REF,
    WHITE_REF,
];

export function getNextColor(currentColorRef: ColorRef): ColorRef {
    const currentIndex = COLOR_ORDER.indexOf(currentColorRef);
    return COLOR_ORDER[(currentIndex + 1) % COLOR_ORDER.length];
}

export function getPreviousColor(currentColorRef: ColorRef): ColorRef {
    const currentIndex = COLOR_ORDER.indexOf(currentColorRef);
    return COLOR_ORDER[
        (currentIndex - 1 + COLOR_ORDER.length) % COLOR_ORDER.length
    ];
}
